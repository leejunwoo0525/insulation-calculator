html_code = """

<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>ë‹¨ì—´ì¬ ì¶”ì²œ ê³„ì‚°ê¸°</title>
<style>
    body { font-family: sans-serif; padding: 20px; }
    .tab { display: none; }
    .tab.active { display: block; }
    button.tab-btn { margin-right: 10px; padding: 10px 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 6px 10px; text-align: center; }
    input, select { width: 140px; }
    .grade-A { background-color: #d4f8cc; }
    .grade-B { background-color: #fff8b2; }
    .grade-C { background-color: #ffe0b2; }
    .grade-D { background-color: #f8cccc; }
    #result { margin-top: 30px; }
  </style>
</head>
<body>
<h2>ğŸ“¦ ë‹¨ì—´ì¬ ì¶”ì²œ ê³„ì‚°ê¸°</h2>
<div>
<button class="tab-btn" onclick="switchTab('calculator')">ê³„ì‚°ê¸°</button>
<button class="tab-btn" onclick="switchTab('database')">ë‹¨ì—´ì¬ ëª©ë¡</button>
</div>
<!-- ğŸ“ ê³„ì‚°ê¸° íƒ­ -->
<div class="tab active" id="calculator">

<div id="regionZoneWrapper">


</div>
<h3>ğŸ“ ë²½ì²´ ë ˆì´ì–´ êµ¬ì„±</h3>
<table id="layerTable">
<thead>
<tr>
<th>ì¬ë£Œëª…</th>
<th>ë‘ê»˜ (mm)</th>
<th>ì—´ì „ë„ìœ¨ Î»</th>
<th>ì—´ì €í•­ R</th>
<th>ì‚­ì œ</th>
</tr>
</thead>
<tbody>
<tr class="fixed-layer">
<td><input readonly="" type="text" value="ì‹¤ì™¸ ì—´ì „ë‹¬ì €í•­"/></td>
<td><input readonly="" type="number" value="0"/></td>
<td><input readonly="" type="text" value="-"/></td>
<td><input class="resistance" readonly="" type="number" value="0.043"/></td>
<td></td>
</tr>
<tr onclick="selectRow(this)">
<td><input type="text"/></td>
<td><input oninput="updateResistance(this)" type="number"/></td>
<td><input oninput="updateResistance(this)" type="number"/></td>
<td><input class="resistance" readonly="" type="number"/></td>
<td><button onclick="removeRow(this)">ì‚­ì œ</button></td>
</tr>
<tr class="fixed-layer">
<td><input readonly="" type="text" value="ì‹¤ë‚´ ì—´ì „ë‹¬ì €í•­"/></td>
<td><input readonly="" type="number" value="0"/></td>
<td><input readonly="" type="text" value="-"/></td>
<td><input class="resistance" readonly="" type="number" value="0.11"/></td>
<td></td>
</tr>
</tbody>
</table>
<button onclick="addRow()">ë ˆì´ì–´ ì¶”ê°€</button>
<h4>ë‹¨ì—´ì¬ ë‘ê»˜ (mm): <input id="insulationThickness" type="number"/></h4>
<h4>ì§€ì—­: 
    <select id="region">
<option value="ì¤‘ë¶€1">ì¤‘ë¶€1</option>
<option value="ì¤‘ë¶€2">ì¤‘ë¶€2</option>
<option value="ë‚¨ë¶€">ë‚¨ë¶€</option>
<option value="ì œì£¼">ì œì£¼</option>
</select>
    ë¶€ìœ„:
    <select id="zone">
<option value="ì™¸ë²½">ì™¸ë²½</option>
<option value="ì§€ë¶•">ì§€ë¶•</option>
<option value="ë°”ë‹¥">ë°”ë‹¥</option>
</select>
</h4>
<button onclick="calculate()">ì¶”ì²œ</button>
<button onclick="window.print()">ğŸ“„ PDF ì €ì¥</button>
<div id="result"></div>
</div>
<!-- ğŸ“‹ ë‹¨ì—´ì¬ ëª©ë¡ íƒ­ -->
<div class="tab" id="database">
<h3>ğŸ“‹ ë‹¨ì—´ì¬ ëª©ë¡</h3>
<table id="insulationTable">
<thead><tr><th>ì´ë¦„</th><th>Î»</th><th>ë“±ê¸‰</th><th>ê°€ê²©</th></tr></thead>
<tbody></tbody>
</table>
<h4>â• ë‹¨ì—´ì¬ ì¶”ê°€</h4>
<input id="newName" placeholder="ì´ë¦„" type="text"/>
<input id="newLambda" placeholder="Î» (W/mÂ·K)" type="number"/>
<input id="newGrade" placeholder="ë“±ê¸‰" type="text"/>
<input id="newPrice" placeholder="ê°€ê²©(ì›/ã¡)" type="number"/>
<button onclick="addCustomInsulation()">ì¶”ê°€</button>
</div>
<script>
const uStandardTable = {
  'ì™¸ë²½': { 'ì¤‘ë¶€1': 0.15, 'ì¤‘ë¶€2': 0.17, 'ë‚¨ë¶€': 0.22, 'ì œì£¼': 0.29 },
  'ì§€ë¶•': { 'ì¤‘ë¶€1': 0.15, 'ì¤‘ë¶€2': 0.18, 'ë‚¨ë¶€': 0.25, 'ì œì£¼': 0.25 },
  'ë°”ë‹¥': { 'ì¤‘ë¶€1': 0.15, 'ì¤‘ë¶€2': 0.17, 'ë‚¨ë¶€': 0.22, 'ì œì£¼': 0.29 }
};

let insulationList = [
  {name: "PFë³´ë“œ A", lambda: 0.019, grade: "ë¶ˆì—°", perm: 0.2, price: 22000},
  {name: "ê²½ì§ˆìš°ë ˆíƒ„ B", lambda: 0.025, grade: "ì¤€ë¶ˆì—°", perm: 0.5, price: 18000},
  {name: "XPS C", lambda: 0.034, grade: "ë‚œì—°", perm: 1.5, price: 11000},
  {name: "ì§„ê³µë‹¨ì—´ D", lambda: 0.005, grade: "ë¶ˆì—°", perm: 0.01, price: 50000},
  {name: "EPS E", lambda: 0.038, grade: "ë‚œì—°", perm: 2.0, price: 8000},
  {name: "EPS ë‚œì—° F", lambda: 0.035, grade: "ë‚œì—°", perm: 1.5, price: 9000},
  {name: "ì—ì–´ë¡œê²” G", lambda: 0.015, grade: "ë¶ˆì—°", perm: 0.05, price: 60000},
  {name: "PIRë³´ë“œ H", lambda: 0.021, grade: "ì¤€ë¶ˆì—°", perm: 0.3, price: 23000},
  {name: "ë¯¸ë„¤ë„ìš¸ I", lambda: 0.037, grade: "ë¶ˆì—°", perm: 0.3, price: 15000},
  {name: "ê·¸ë¼ìŠ¤ìš¸ J", lambda: 0.038, grade: "ë¶ˆì—°", perm: 0.4, price: 14000},
  {name: "ì…€ë£°ë¡œì˜¤ìŠ¤ K", lambda: 0.04, grade: "ë‚œì—°", perm: 0.8, price: 12000},
  {name: "VIP L", lambda: 0.006, grade: "ë¶ˆì—°", perm: 0.01, price: 48000},
  {name: "EPS M", lambda: 0.039, grade: "ë‚œì—°", perm: 1.6, price: 8500},
  {name: "EPS N", lambda: 0.041, grade: "ë‚œì—°", perm: 1.7, price: 8700},
  {name: "ìœ ê¸°ì§ˆ O", lambda: 0.045, grade: "ë¶ˆì—°", perm: 0.6, price: 20000},
  {name: "PFë³´ë“œ Q", lambda: 0.019, grade: "ë¶ˆì—°", perm: 0.2, price: 22500},
  {name: "XPS R", lambda: 0.034, grade: "ë‚œì—°", perm: 1.5, price: 10800},
  {name: "EPS S", lambda: 0.036, grade: "ë‚œì—°", perm: 1.8, price: 8600},
  {name: "ì—ì–´ë¡œê²” T", lambda: 0.014, grade: "ë¶ˆì—°", perm: 0.04, price: 58000},
  {name: "ë¯¸ë„¤ë„ìš¸ U", lambda: 0.036, grade: "ë¶ˆì—°", perm: 0.25, price: 16000}
];

function switchTab(id) {
  document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function updateResistance(input) {
  const row = input.closest("tr");
  const t = parseFloat(row.cells[1].querySelector('input').value) / 1000;
  const l = parseFloat(row.cells[2].querySelector('input').value);
  const R = row.cells[3].querySelector('input');
  if (!isNaN(t) && !isNaN(l) && l > 0) R.value = (t / l).toFixed(3);
  else R.value = '';
}

function addRow() {
  const tbody = document.querySelector("#layerTable tbody");
  const row = document.createElement("tr");
  row.setAttribute("onclick", "selectRow(this)");
  row.innerHTML = `
    <td><input type="text" /></td>
    <td><input type="number" oninput="updateResistance(this)" /></td>
    <td><input type="number" oninput="updateResistance(this)" /></td>
    <td><input type="number" readonly class="resistance" /></td>
    <td><button onclick="removeRow(this)">ì‚­ì œ</button></td>`;
  tbody.insertBefore(row, tbody.lastElementChild);
}

function removeRow(btn) {
  const row = btn.closest("tr");
  row.remove();
}

function selectRow(row) {
  document.querySelectorAll("#layerTable tr").forEach(r => r.classList.remove("selected"));
  row.classList.add("selected");
}

function updateInsulationTable() {
  const tbody = document.querySelector("#insulationTable tbody");
  tbody.innerHTML = "";
  for (const item of insulationList) {
    const row = `<tr><td>${item.name}</td><td>${item.lambda}</td><td>${item.grade}</td><td>${item.price}</td></tr>`;
    tbody.insertAdjacentHTML('beforeend', row);
  }
}

function addCustomInsulation() {
  const name = document.getElementById("newName").value;
  const lambda = parseFloat(document.getElementById("newLambda").value);
  const grade = document.getElementById("newGrade").value;
  const price = parseFloat(document.getElementById("newPrice").value);
  if (!name || isNaN(lambda)) {
    alert("ì´ë¦„ê³¼ Î»ë¥¼ ì •í™•íˆ ì…ë ¥í•˜ì„¸ìš”.");
    return;
  }
  insulationList.push({name, lambda, grade, price});
  updateInsulationTable();
}

function calculate() {
  const region = document.getElementById('region').value;
  const zone = document.getElementById('zone').value;
  const thickness = parseFloat(document.getElementById('insulationThickness').value) / 1000;

  let R_wall = 0;
  document.querySelectorAll(".resistance").forEach(r => {
    const val = parseFloat(r.value);
    if (!isNaN(val)) R_wall += val;
  });

  const U_target = uStandardTable[zone][region];
  const R_required = 1 / U_target;
  const R_needed = R_required - R_wall;
  const lambda_max = thickness / R_needed;

  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `
    <p>ğŸ“Œ ê¸°ì¤€ ì—´ê´€ë¥˜ìœ¨: <b>${U_target} W/ã¡Â·K</b></p>
    <p>ğŸ§® í˜„ì¬ ë²½ì²´ ì—´ê´€ë¥˜ìœ¨ (U): <b>${(1 / R_wall).toFixed(3)} W/ã¡Â·K</b></p>
    <p>ğŸ¯ í•„ìš”í•œ Î» â‰¤ <b>${lambda_max.toFixed(3)} W/mÂ·K</b></p>
    <h3>âœ… ì¶”ì²œ ë‹¨ì—´ì¬ (ì´ë¦„ìˆœ)</h3>
  `;

  const ul = document.createElement("ul");
  insulationList
    .filter(ins => ins.lambda <= lambda_max)
    .sort((a, b) => a.name.localeCompare(b.name))
    .forEach(ins => {
      const li = document.createElement("li");
      li.textContent = `${ins.name} (Î»=${ins.lambda}, ${ins.grade}, ${ins.price}ì›/ã¡)`;
      li.className = getGradeClass(ins.lambda);
      ul.appendChild(li);
    });
  resultDiv.appendChild(ul);
} R_wall;
  const lambda_max = thickness / R_needed;

  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `
    <p>ğŸ“Œ ê¸°ì¤€ ì—´ê´€ë¥˜ìœ¨: <b>${U_target} W/ã¡Â·K</b></p>
    <p>ğŸ§® í˜„ì¬ ë²½ì²´ ì—´ê´€ë¥˜ìœ¨ (U): <b>${(1 / R_wall).toFixed(3)} W/ã¡Â·K</b></p>
    <p>ğŸ¯ í•„ìš”í•œ Î» â‰¤ <b>${lambda_max.toFixed(3)} W/mÂ·K</b></p>
    <h3>âœ… ì¶”ì²œ ë‹¨ì—´ì¬</h3>
  `;

  const ul = document.createElement("ul");
  for (const ins of insulationList) {
    if (ins.lambda <= lambda_max) {
      const li = document.createElement("li");
      li.textContent = `${ins.name} (Î»=${ins.lambda}, ${ins.grade}, ${ins.price}ì›/ã¡)`;
      li.className = getGradeClass(ins.lambda);
      ul.appendChild(li);
    }
  }
  resultDiv.appendChild(ul);
}

function getGradeClass(lambda) {
  if (lambda <= 0.034) return 'grade-A';
  if (lambda <= 0.040) return 'grade-B';
  if (lambda <= 0.046) return 'grade-C';
  return 'grade-D';
}

updateInsulationTable();
</script>
</body>
</html>

"""
