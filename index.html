<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>ë‹¨ì—´ì¬ ì¶”ì²œ ê³„ì‚°ê¸°</title>
<style>body{font-family:sans-serif;padding:20px}.tab{display:none}.tab.active{display:block}button.tab-btn{margin-right:10px;padding:10px 20px}table{border-collapse:collapse;width:100%;margin-top:10px}th,td{border:1px solid #ccc;padding:6px 10px;text-align:center}input,select{width:140px}.grade-A{background-color:#d4f8cc}.grade-B{background-color:#fff8b2}.grade-C{background-color:#ffe0b2}.grade-D{background-color:#f8cccc}#result{margin-top:30px}</style>
</head>
<body>
<h2>ğŸ“¦ ë‹¨ì—¬ì¬ ì¶”ì²œ ê³€ì‚°ê¸°</h2>
<div><button class="tab-btn" onclick="switchTab('calculator')">ê³€ì‚°ê¸°</button><button class="tab-btn" onclick="switchTab('database')">ë‹¨ì—¬ì¬ ëª©ë¡</button></div>
<div class="tab active" id="calculator">
<h3>ğŸ“ ë²½ì²´ ë ˆì´ì–´ êµ¬ì„±</h3>
<table id="layerTable">
<thead><tr><th>ì¬ë£Œëª…</th><th>ë‘ê¸° (mm)</th><th>ì—˜ì „ë„ìœ¨ Î»</th><th>ì—˜ì €í•˜ R</th><th>ì‚­ì œ</th></tr></thead>
<tbody>
<tr class="fixed-layer"><td><input type="text" readonly value="ì‹¤ì™¸ ì—˜ì „ë‹¬ì €í•­"></td><td><input type="number" readonly value="0"></td><td><input type="text" readonly value="-"></td><td><input class="resistance" type="number" readonly value="0.043"></td><td></td></tr>
<tr onclick="selectRow(this)">
<td><input type="text" list="insulationNames" placeholder="ì¬ë£Œëª… ì…ë ¥ ë˜ëŠ” ì„ íƒ" oninput="fillFromInput(this)"></td>
<td><input type="number" oninput="updateResistance(this)"></td>
<td><input type="number" oninput="updateResistance(this)"></td>
<td><input class="resistance" type="number" readonly></td>
<td><button onclick="removeRow(this)">ì‚­ì œ</button></td>
</tr>
<tr class="fixed-layer"><td><input type="text" readonly value="ì‹¤ë‚´ ì—˜ì „ë‹¬ì €í•­"></td><td><input type="number" readonly value="0"></td><td><input type="text" readonly value="-"></td><td><input class="resistance" type="number" readonly value="0.11"></td><td></td></tr>
</tbody>
</table>
<datalist id="insulationNames"></datalist>
<button onclick="addRow()">ë ˆì´ì–´ ì¶”ê°€</button>
<h4>ë‹¨ì—¬ì¬ ë‘ê¸° (mm): <input id="insulationThickness" type="number"/></h4>
<h4>ì§€ì—­: <select id="region"><option value="ì¤‘ë¶€1">ì¤‘ë¶€1</option><option value="ì¤‘ë¶€2">ì¤‘ë¶€2</option><option value="ë‚¨ë¶€">ë‚¨ë¶€</option><option value="ì œì£¼">ì œì£¼</option></select>ë¶€ìœ„: <select id="zone"><option value="ì™¸ë²½">ì™¸ë²½</option><option value="ì§€ë¶€">ì§€ë¶€</option><option value="ë°”ë‹¥">ë°”ë‹¥</option></select></h4>
<button onclick="calculate()">ì¶”ì²œ</button> <button onclick="window.print()">ğŸ“„ PDF ì €ì¥</button>
<div id="result"></div>
</div>
<div class="tab" id="database">
<h3>ğŸ“‹ ë‹¨ì—¬ì¬ ëª©ë¡</h3>
<table id="insulationTable"><thead><tr><th>ì´ë¦„</th><th>Î»</th><th>ë“±ê¸‰</th><th>ê°€ê²©</th></tr></thead><tbody></tbody></table>
<h4>â• ë‹¨ì—¬ì¬ ì¶”ê°€</h4>
<input id="newName" placeholder="ì´ë¦„" type="text"/>
<input id="newLambda" placeholder="Î» (W/mÂ·K)" type="number"/>
<input id="newGrade" placeholder="ë“±ê¸‰" type="text"/>
<input id="newPrice" placeholder="ê°€ê²©(ì›/ã¡)" type="number"/>
<button onclick="addCustomInsulation()">ì¶”ê°€</button>
</div>
<script>
const insulationList = [
  {name:"PFë³´ë“œ A",lambda:0.019,grade:"ë¶ˆì—°",perm:0.2,price:22000},
  {name:"ê²½ì§ˆìš°ë ˆíƒ„ B",lambda:0.025,grade:"ì¤€ë¶ˆì—°",perm:0.5,price:18000},
  {name:"XPS C",lambda:0.034,grade:"ë‚œì—°",perm:1.5,price:11000},
  {name:"ì§„ê³µë‹¨ì—´ D",lambda:0.005,grade:"ë¶ˆì—°",perm:0.01,price:50000},
  {name:"EPS E",lambda:0.038,grade:"ë‚œì—°",perm:2.0,price:8000},
  {name:"EPS ë‚œì—° F",lambda:0.035,grade:"ë‚œì—°",perm:1.5,price:9000},
  {name:"ì—ì–´ë¡œê²” G",lambda:0.015,grade:"ë¶ˆì—°",perm:0.05,price:60000},
  {name:"PIRë³´ë“œ H",lambda:0.021,grade:"ì¤€ë¶ˆì—°",perm:0.3,price:23000},
  {name:"ë¯¸ë„¤ë„ìš¸ I",lambda:0.037,grade:"ë¶ˆì—°",perm:0.3,price:15000},
  {name:"ê·¸ë¼ìŠ¤ìš¸ J",lambda:0.038,grade:"ë¶ˆì—°",perm:0.4,price:14000}
];
function updateDatalist(){
  const list=document.getElementById("insulationNames");
  list.innerHTML="";
  insulationList.forEach(i=>{
    const opt=document.createElement("option");
    opt.value=i.name;
    list.appendChild(opt);
  })
}
function fillFromInput(input){
  const value=input.value;
  const row=input.closest("tr");
  const insulation=insulationList.find(i=>i.name===value);
  if(insulation){
    const lambdaInput=row.cells[2].querySelector('input');
    lambdaInput.value=insulation.lambda;
    updateResistance(lambdaInput);
  }
}
function addRow(){
  const tbody=document.querySelector("#layerTable tbody");
  const row=document.createElement("tr");
  row.setAttribute("onclick","selectRow(this)");
  row.innerHTML='<td><input type="text" list="insulationNames" placeholder="ì¬ë£Œëª… ì…ë ¥ ë˜ëŠ” ì„ íƒ" oninput="fillFromInput(this)"></td><td><input type="number" oninput="updateResistance(this)"></td><td><input type="number" oninput="updateResistance(this)"></td><td><input class="resistance" type="number" readonly></td><td><button onclick="removeRow(this)">ì‚­ì œ</button></td>';
  tbody.insertBefore(row,tbody.lastElementChild);
  updateDatalist();
}
updateDatalist();
</script>
</body></html>
